<!-- نموذج حجز تذاكر الباص - مقسم إلى ثلاثة أقسام وفقاً للمتطلبات -->
<form id="bus-booking-form">
    <!-- القسم الأول: البيانات الشخصية للمسافر -->
    <div class="form-section">
        <h4 class="section-title"><i class="fas fa-user ml-2"></i> القسم الأول: البيانات الشخصية للمسافر</h4>
        <div class="card-primary card-outline">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="passengerName">اسم المسافر <span class="text-danger">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                                </div>
                                <input type="text" class="form-control" id="passengerName" name="passengerName" placeholder="الاسم الكامل كما هو في الهوية" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="mobileNumber">رقم الهاتف</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-phone"></i></span>
                                </div>
                                <input type="text" class="form-control" id="mobileNumber" name="mobileNumber" placeholder="أدخل رقم الهاتف">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="idNumber">رقم الهوية</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-id-card"></i></span>
                                </div>
                                <input type="text" class="form-control" id="idNumber" name="idNumber" placeholder="أدخل رقم الهوية">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="birthDate">تاريخ الميلاد</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                </div>
                                <input type="text" class="form-control datetimepicker-input" id="birthDate" name="birthDate" data-toggle="datetimepicker" data-target="#birthDate">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="gender">الجنس</label>
                            <select class="form-control select2" id="gender" name="gender">
                                <option value="">اختر الجنس</option>
                                <option value="ذكر">ذكر</option>
                                <option value="أنثى">أنثى</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- القسم الثاني: بيانات الحجز -->
    <div class="form-section">
        <h4 class="section-title"><i class="fas fa-route ml-2"></i> القسم الثاني: بيانات الحجز</h4>
        <div class="card-success card-outline">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>نوع الرحلة</label>
                            <div class="d-flex">
                                <div class="custom-control custom-radio ml-4">
                                    <input type="radio" id="tripTypeRegular" name="tripType" value="regular" class="custom-control-input" checked>
                                    <label class="custom-control-label" for="tripTypeRegular">عادي</label>
                                </div>
                                <div class="custom-control custom-radio">
                                    <input type="radio" id="tripTypeTourist" name="tripType" value="tourist" class="custom-control-input">
                                    <label class="custom-control-label" for="tripTypeTourist">سياحي</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>نوع الحجز</label>
                            <div class="d-flex">
                                <div class="custom-control custom-radio ml-4">
                                    <input type="radio" id="journeyTypeOneWay" name="journeyType" value="one-way" class="custom-control-input" checked>
                                    <label class="custom-control-label" for="journeyTypeOneWay">ذهاب</label>
                                </div>
                                <div class="custom-control custom-radio">
                                    <input type="radio" id="journeyTypeRoundTrip" name="journeyType" value="round-trip" class="custom-control-input">
                                    <label class="custom-control-label" for="journeyTypeRoundTrip">ذهاب وعودة</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="departureCity">مدينة المغادرة <span class="text-danger">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
                                </div>
                                <select class="form-control select2" id="departureCity" name="departureCity" required>
                                    <option value="">اختر مدينة المغادرة</option>
                                    <option value="الرياض">الرياض</option>
                                    <option value="جدة">جدة</option>
                                    <option value="مكة المكرمة">مكة المكرمة</option>
                                    <option value="المدينة المنورة">المدينة المنورة</option>
                                    <option value="الدمام">الدمام</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="destinationCity">مدينة الوصول <span class="text-danger">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-map-pin"></i></span>
                                </div>
                                <select class="form-control select2" id="destinationCity" name="destinationCity" required>
                                    <option value="">اختر مدينة الوصول</option>
                                    <option value="الرياض">الرياض</option>
                                    <option value="جدة">جدة</option>
                                    <option value="مكة المكرمة">مكة المكرمة</option>
                                    <option value="المدينة المنورة">المدينة المنورة</option>
                                    <option value="الدمام">الدمام</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="supplierId">مزود الخدمة <span class="text-danger">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-bus"></i></span>
                                </div>
                                <select class="form-control select2" id="supplierId" name="supplierId" required>
                                    <option value="">اختر مزود الخدمة</option>
                                    <option value="شركة النقل السعودية">شركة النقل السعودية (سابتكو)</option>
                                    <option value="شركة الإمارات للنقل">شركة الإمارات للنقل</option>
                                    <option value="شركة القطيف للنقل">شركة القطيف للنقل</option>
                                    <option value="شركة تبوك للنقل">شركة تبوك للنقل</option>
                                    <option value="شركة النقل الجماعي">شركة النقل الجماعي</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="transactionDate">تاريخ العملية</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                </div>
                                <input type="text" class="form-control datetimepicker-input" id="transactionDate" name="transactionDate" data-toggle="datetimepicker" data-target="#transactionDate">
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="reservationDate">تاريخ السفر <span class="text-danger">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                </div>
                                <input type="text" class="form-control datetimepicker-input" id="reservationDate" name="reservationDate" data-toggle="datetimepicker" data-target="#reservationDate" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 return-date-container d-none">
                        <div class="form-group">
                            <label for="returnDate">تاريخ العودة</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                </div>
                                <input type="text" class="form-control datetimepicker-input" id="returnDate" name="returnDate" data-toggle="datetimepicker" data-target="#returnDate">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- القسم الثالث: بيانات التوصيل المالي -->
    <div class="form-section">
        <h4 class="section-title"><i class="fas fa-money-bill-wave ml-2"></i> القسم الثالث: بيانات التوصيل المالي</h4>
        <div class="card-info card-outline">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="currency">العملة</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-dollar-sign"></i></span>
                                </div>
                                <select class="form-control select2" id="currency" name="currency">
                                    {% if currencies %}
                                        {% for currency in currencies %}
                                            <option value="{{ currency.id }}" {% if currency.id == 'SAR' %}selected{% endif %}>{{ currency.name }}</option>
                                        {% endfor %}
                                    {% else %}
                                        <option value="SAR" selected>ريال سعودي (SAR)</option>
                                        <option value="USD">دولار أمريكي (USD)</option>
                                        <option value="EUR">يورو (EUR)</option>
                                        <option value="YER">ريال يمني (YER)</option>
                                    {% endif %}
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="sellPrice">سعر البيع الإجمالي <span class="text-danger">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-tag"></i></span>
                                </div>
                                <input type="number" min="0" step="0.01" class="form-control" id="sellPrice" name="sellPrice" placeholder="أدخل سعر البيع" required>
                                <div class="input-group-append">
                                    <span class="input-group-text">
                                        <span class="currency-symbol">ر.س</span>
                                    </span>
                                </div>
                            </div>
                            <div class="amount-in-words" id="sellPriceInWords">صفر ريال سعودي</div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="purchasePrice">سعر التكلفة الإجمالي</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-money-bill"></i></span>
                                </div>
                                <input type="number" min="0" step="0.01" class="form-control" id="purchasePrice" name="purchasePrice" placeholder="أدخل سعر التكلفة">
                                <div class="input-group-append">
                                    <span class="input-group-text">
                                        <span class="currency-symbol">ر.س</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="paymentType">نوع التوصيل المالي <span class="text-danger">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-credit-card"></i></span>
                                </div>
                                <select class="form-control select2" id="paymentType" name="paymentType" required>
                                    <option value="">اختر نوع التوصيل المالي</option>
                                    <option value="cash">نقد</option>
                                    <option value="credit">أجل</option>
                                    <option value="bank_transfer">تحويل بنكي</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="accountId">الحساب <span class="text-danger">*</span></label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-university"></i></span>
                                </div>
                                <select class="form-control select2" id="accountId" name="accountId" required>
                                    <option value="">اختر الحساب المالي</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div id="receivedAmountContainer" class="col-md-6">
                        <div class="form-group">
                            <label for="receivedAmount">المبلغ الواصل</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-hand-holding-usd"></i></span>
                                </div>
                                <input type="number" min="0" step="0.01" class="form-control" id="receivedAmount" name="receivedAmount" placeholder="أدخل المبلغ الواصل">
                                <div class="input-group-append">
                                    <span class="input-group-text">
                                        <span class="currency-symbol">ر.س</span>
                                    </span>
                                </div>
                            </div>
                            <div class="amount-in-words" id="receivedAmountInWords">صفر ريال سعودي</div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="remainingAmount">المبلغ المتبقي</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-coins"></i></span>
                                </div>
                                <input type="number" min="0" step="0.01" class="form-control" id="remainingAmount" name="remainingAmount" placeholder="0.00" readonly>
                                <div class="input-group-append">
                                    <span class="input-group-text">
                                        <span class="currency-symbol">ر.س</span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label for="statement">البيان</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-file-alt"></i></span>
                                </div>
                                <textarea class="form-control" id="statement" name="statement" rows="3" placeholder="سيتم إنشاء البيان تلقائياً" readonly></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- أزرار التحكم -->
    <div class="form-actions text-center mt-4">
        <button type="button" id="complete-reservation" class="btn btn-primary btn-lg mx-2">
            <i class="fas fa-save ml-1"></i> حفظ الحجز
        </button>
        <button type="button" id="cancel-booking" class="btn btn-danger btn-lg mx-2">
            <i class="fas fa-times ml-1"></i> إلغاء
        </button>
        <button type="button" id="reset-form" class="btn btn-warning btn-lg mx-2">
            <i class="fas fa-redo ml-1"></i> إعادة تعيين
        </button>
    </div>
</form>